<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/css/bootstrap-1.1.1.min.css">
		<link rel="stylesheet" href="main.css">
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
		<script src="showdown.js" type="text/javascript"></script>
	</head>
	<body>
		
		<script>
		$(document).ready(function() {
			/*
			var textarea = $('#textarea');		

			
			textarea.keyup(function(event) {
				var msg = textarea.attr('value');
			  	$.ajax({
				    type: 'POST',
				    url: 'http://localhost:4000/try',
					dataType: "jsonp",
					jsonpCallback: "_testcb",
				    data: { 
				        'content': msg ,

				    },
				    success: function(data){
						$("#text").text(data);
						$("#test").html(data);
							
					}

				});
			});
			*/
			 // When using more than one `textarea` on your page, change the following line to match the one youâ€™re after
			 var $textarea = $('#textarea'),
			     $preview = $('#test'),
				 $code=$("#text"),
			     converter = new Showdown.converter();
			
			 $textarea.keyup(function() {
			  var html=converter.makeHtml($textarea.val());
			  $preview.html(html);
			 // $code.text(html);
			 }).trigger('keyup');
	
			
		});
		</script>
		
		<div class="container">
		<div class="form span16">
			<textarea id="textarea"></textarea>
		</div>
		<div class="clearfix"></div>
		<div class="span16 row">
		<div id="test" class="columns span8"></div>
		<div id="text" class="columns span8"></div>
		</div>
	</body>
</html>
